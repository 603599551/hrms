webpackJsonp([26],{Wk2M:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),l=a("exGp"),i=a.n(l),n=a("Dd8w"),c=a.n(n),o=a("NYxO"),d=a("gyMJ"),p=a("PJh5"),h=a.n(p),u={name:"store-report-list",data:function(){var t=this;return{search:{dept:"",start_date:"",end_date:""},list:[],loading:!1,pickerOptions:{disabledDate:function(e){if(""!==t.search.start_date)return e.getTime()<h()(t.search.start_date)}}}},computed:c()({},Object(o.c)("app",["deptId"]),Object(o.d)("dict",["deptList"])),methods:c()({},Object(o.b)("dict",["createDeptList"]),{initial:function(){""!=this.deptId&&(this.search.dept=this.deptId,this.searchHandle())},getStoreReportInfo:function(t){var e=this;return i()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,Object(d._22)(c()({},e.search));case 3:1==(s=a.sent).code?(e.list=s.data,e.list.totalSalary=s.allSalary||"",e.list.totalWorkTime=s.allWorkTime||"",t&&t()):e.$message.error(s.message),e.loading=!1;case 6:case"end":return a.stop()}},a,e)}))()},searchHandle:function(){this.getStoreReportInfo()}}),created:function(){this.initial(),this.getStoreReportInfo(),this.createDeptList()}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"app-location-wrapper"},[a("el-breadcrumb",{staticClass:"fl",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/work_time"}}},[t._v("工资管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("工资报表")]),t._v(" "),a("el-breadcrumb-item",[t._v("单店报表")])],1)],1),t._v(" "),a("div",{staticClass:"component-top"},[a("div",{staticClass:"search-title fl"},[t._v("门店：")]),t._v(" "),a("el-select",{staticClass:"fl",staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"small",placeholder:"门店"},on:{change:t.searchHandle},model:{value:t.search.dept,callback:function(e){t.$set(t.search,"dept",e)},expression:"search.dept"}},t._l(t.deptList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),t._v(" "),a("div",{staticClass:"search-title fl"},[t._v("开始日期：")]),t._v(" "),a("el-date-picker",{staticClass:"fl",staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"small",type:"date",placeholder:"开始日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.searchHandle},model:{value:t.search.start_date,callback:function(e){t.$set(t.search,"start_date",e)},expression:"search.start_date"}}),t._v(" "),a("div",{staticClass:"search-title fl"},[t._v("结束日期：")]),t._v(" "),a("el-date-picker",{staticClass:"fl",staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"small",type:"date",placeholder:"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:t.searchHandle},model:{value:t.search.end_date,callback:function(e){t.$set(t.search,"end_date",e)},expression:"search.end_date"}})],1),t._v(" "),a("div",{staticClass:"component-main"},[t.list.length?a("div",{staticStyle:{"line-height":"32px","padding-left":"10px"}},[t._v("\r\n            总工时："+t._s(t.list.totalWorkTime)+" 小时，\r\n            总工资："+t._s(t.list.totalSalary)+" 元\r\n        ")]):t._e(),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"small",data:t.list,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"门店名称","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:{color:e.row.store_color}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_work_time",label:"总工时"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hour_wage",label:"时薪"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"总工资"}})],1)],1)])},staticRenderFns:[]};var m=a("VU/8")(u,_,!1,function(t){a("g7dB")},null,null);e.default=m.exports},g7dB:function(t,e){}});