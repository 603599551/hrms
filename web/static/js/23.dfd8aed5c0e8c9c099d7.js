webpackJsonp([23],{"0FwA":function(t,e,a){var s=a("NsQB");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("463d6928",s,!0,{})},"2dpe":function(t,e,a){var s=a("nuJ3");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("79e8ae36",s,!0,{})},H7J9:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},J4zs:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},NsQB:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},PnuR:function(t,e,a){var s=a("J4zs");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("d4239114",s,!0,{})},aB7f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("rpul"),c=a("gyMJ"),l={name:"AddDepotPanel",props:{params:Object},data:function(){return{form:{name:"",code:"",desc:""}}},methods:{submitHandle:function(){var t=this;this.insertDepotInfo(function(){t.$emit("reloadEvent","reload"),t.closePanelHandle()})},insertDepotInfo:function(t){var e=this;return o()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""!=e.form.name){a.next=2;break}return a.abrupt("return",e.$message.warning("请正确填写门仓库息再提交！"));case 2:return a.prev=2,a.next=5,Object(c._56)({name:e.form.name,code:e.form.code,desc:e.form.desc});case 5:1==(s=a.sent).data.code?(e.$message.success("添加仓库成功!"),t&&t()):e.$message.error(s.data.message),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error(a.t0);case 12:case"end":return a.stop()}},a,e,[[2,9]])}))()},closePanelHandle:function(){this.params.isPlay=!1}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-form-panel"},[a("div",{staticClass:"app-form-item"},[t._m(0),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{formDanger:t.errors.has("depotname")},attrs:{name:"depotname",clearable:"",placeholder:"请输入仓库名称..."},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.errors.has("depotname")?a("span",{staticClass:"prompt-title"},[t._v(t._s(t.errors.first("depotname")))]):t._e()],1)]),t._v(" "),a("div",{staticClass:"app-form-item"},[a("label",{staticClass:"app-form-label"},[t._v("仓库编码")]),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{attrs:{clearable:"",placeholder:"若不填写，系统自动生成"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)]),t._v(" "),a("div",{staticClass:"app-form-item"},[a("label",{staticClass:"app-form-label"},[t._v("仓库描述")]),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{attrs:{rows:5,type:"textarea",clearable:"",placeholder:"请输入仓库描述..."},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)]),t._v(" "),a("div",{staticClass:"app-form-item tr"},[a("el-button",{on:{click:function(e){return e.stopPropagation(),t.closePanelHandle(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.submitHandle(e)}}},[t._v("确定")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"app-form-label"},[e("i",[this._v("*")]),this._v("仓库名称")])}]};var d=a("VU/8")(l,p,!1,function(t){a("PnuR")},null,null).exports,u={name:"ModDepotPanel",props:{params:Object},data:function(){return{itemId:this.params.itemId,form:{name:"",code:"",desc:""}}},created:function(){this.getItemInfo()},methods:{getItemInfo:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.z)({id:t.itemId});case 3:1==(a=e.sent).data.code?(t.form.name=a.data.data.name||"",t.form.code=a.data.data.code,t.form.desc=a.data.data.desc):t.$message.error(a.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},submitHandle:function(){var t=this;this.updateDepotInfo(function(){t.$emit("reloadEvent","reload"),t.closePanelHandle()})},updateDepotInfo:function(t){var e=this;return o()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c._78)({id:e.itemId,name:e.form.name,desc:e.form.desc});case 3:1==(s=a.sent).data.code?(e.$message.success("修改仓库成功!"),t&&t()):e.$message.error(s.data.message),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}},a,e,[[0,7]])}))()},closePanelHandle:function(){this.params.isPlay=!1}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-form-panel"},[a("div",{staticClass:"app-form-item"},[t._m(0),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{formDanger:t.errors.has("depotname")},attrs:{name:"depotname",clearable:"",placeholder:"请输入仓库名称..."},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),t.errors.has("depotname")?a("span",{staticClass:"prompt-title"},[t._v(t._s(t.errors.first("depotname")))]):t._e()],1)]),t._v(" "),a("div",{staticClass:"app-form-item"},[a("label",{staticClass:"app-form-label"},[t._v("仓库编码")]),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{attrs:{disabled:"",placeholder:"若不填写，系统自动生成"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1)]),t._v(" "),a("div",{staticClass:"app-form-item"},[a("label",{staticClass:"app-form-label"},[t._v("仓库描述")]),t._v(" "),a("div",{staticClass:"app-input-block"},[a("el-input",{attrs:{rows:5,type:"textarea",clearable:"",placeholder:"请输入仓库描述..."},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)]),t._v(" "),a("div",{staticClass:"app-form-item tr"},[a("el-button",{on:{click:function(e){return e.stopPropagation(),t.closePanelHandle(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.submitHandle(e)}}},[t._v("确定")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"app-form-label"},[e("i",[this._v("*")]),this._v("仓库名称")])}]};var f=a("VU/8")(u,m,!1,function(t){a("0FwA")},null,null).exports,v={name:"DepotManager",data:function(){return{list:[],search:{searchVal:""},loading:!1,addDepotExtract:{isPlay:!1},modDepotExtract:{isPlay:!1}}},methods:{addDepotHandle:function(){this.addDepotExtract.isPlay=!0},modItemHandle:function(t){this.modDepotExtract.isPlay=!0,this.modDepotExtract.itemId=t},stopItemHandle:function(t){var e=this;this.$confirm("确认"+("1"==t.status?"停用":"启用")+"此仓库吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(o()(n.a.mark(function a(){var s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s="1"==t.status?"0":"1",a.next=4,Object(c._75)({id:t.id,status:s});case 4:1==(r=a.sent).data.code?(t.status=s,e.$message.success("操作成功!")):e.$message.error(r.data.message),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}},a,e,[[0,8]])}))).catch(function(){})},delItemHandle:function(t){var e=this;this.$confirm("确认删除此仓库吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(o()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c.k)({id:t});case 3:1==(s=a.sent).data.code?(e.removeItemById(t),e.$message.success("操作成功!")):e.$message.error(s.data.message),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}},a,e,[[0,7]])}))).catch(function(){})},getDepotList:function(t){var e=this;return o()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.prev=1,a.next=4,Object(c.v)({keyword:e.search.searchVal});case 4:1==(s=a.sent).data.code&&(e.list=s.data.list),t&&t(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.error(a.t0);case 12:e.loading=!1;case 13:case"end":return a.stop()}},a,e,[[1,9]])}))()},reloadGetData:function(t){"reload"==t&&this.getDepotList()},searchHandle:function(){this.getDepotList()},removeItemById:function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].id==t){this.list.splice(e,1);break}}},created:function(){this.getDepotList()},components:{ExtractPanel:i.a,AddDepotPanel:d,ModDepotPanel:f}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appManager-wrapper"},[a("div",{staticClass:"appManager-top"},[a("el-button",{staticClass:"fl",on:{click:function(e){return e.stopPropagation(),t.addDepotHandle(e)}}},[t._v("新增仓库")]),t._v(" "),a("el-input",{staticClass:"fr",staticStyle:{width:"240px"},attrs:{placeholder:"请输入仓库名称","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchHandle(e):null}},model:{value:t.search.searchVal,callback:function(e){t.$set(t.search,"searchVal",e)},expression:"search.searchVal"}})],1),t._v(" "),a("div",{staticClass:"appManager-list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"仓库名称",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"仓库编码"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"medium",type:"1"==e.row.status?"":"danger"}},[t._v("\r\n                        "+t._s(e.row.status_text)+"\r\n                    ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.modItemHandle(e.row.id)}}},[a("i",{staticClass:"el-icon-edit"}),t._v(" 修改\r\n                    ")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.stopItemHandle(e.row)}}},[a("i",{class:{"el-icon-circle-close-outline":"1"==e.row.status,"el-icon-circle-check-outline":"1"!=e.row.status}}),t._v("\r\n                        "+t._s("1"==e.row.status?"停用":"启用")+"\r\n                    ")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){a.stopPropagation(),t.delItemHandle(e.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" 删除\r\n                    ")])]}}])})],1)],1),t._v(" "),a("ExtractPanel",{attrs:{params:t.addDepotExtract}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("新增仓库")]),t._v(" "),a("AddDepotPanel",{attrs:{slot:"panel",params:t.addDepotExtract},on:{reloadEvent:t.reloadGetData},slot:"panel"})],1),t._v(" "),a("ExtractPanel",{attrs:{params:t.modDepotExtract}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("修改仓库信息")]),t._v(" "),a("ModDepotPanel",{attrs:{slot:"panel",params:t.modDepotExtract},on:{reloadEvent:t.reloadGetData},slot:"panel"})],1)],1)},staticRenderFns:[]};var x=a("VU/8")(v,h,!1,function(t){a("b2Sd")},null,null);e.default=x.exports},b2Sd:function(t,e,a){var s=a("H7J9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("18dd10cd",s,!0,{})},nuJ3:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".extract-masker{position:fixed;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.2);z-index:8}.extract-wrapper{width:50%;height:calc(100% - 50px);position:fixed;top:50px;right:0;bottom:0;background:#f5f5f5;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-box-shadow:-3px 0 4px rgba(0,0,0,.1);box-shadow:-3px 0 4px rgba(0,0,0,.1);z-index:9}.extract-top{height:50px;border-bottom:1px solid #ccc;position:relative}.extract-top .title{line-height:50px;padding-left:15px;font-size:16px;font-weight:700;width:80%}.extract-top .extract-close{position:absolute;right:12px;top:10px;font-size:22px;padding:5px;cursor:pointer;-webkit-transition:all .3s ease;transition:all .3s ease}.extract-top .extract-close:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.extract-main{height:calc(100% - 51px);overflow-y:auto}.extract-main .no-info{text-align:center;padding-top:50px}#app .app-side-enter,#app .app-side-leave-to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}#app .app-side-enter-to,#app .app-side-leave{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}#app .app-side-enter-active,#app .app-side-leave-active{-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}",""])},rpul:function(t,e,a){"use strict";var s={name:"ExtractPanel",data:function(){return{}},props:{params:{type:Object,default:function(){return{isPlay:!1}}},width:{type:String,default:"50%"},top:{type:String,default:"50px"}},methods:{handleClick:function(){this.params.isPlay=!1},eventHandle:function(t){t.stopPropagation(),this.params.isPlay&&(this.params.isPlay=!1)}},computed:{computHeight:function(){return-1==this.top.search("px")&&(this.top+="px"),"calc(100% - "+this.top+")"}},mounted:function(){document.getElementById("main").addEventListener("click",this.eventHandle,!1)},destroyed:function(){document.getElementById("main").removeEventListener("click",this.eventHandle)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"app-side"}},[t.params.isPlay?a("div",{staticClass:"extract-wrapper",style:{width:t.width,top:t.top,height:t.computHeight},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"extract-top"},[a("h5",{staticClass:"title"},[t._t("title",[t._v("提示信息")])],2),t._v(" "),a("span",{staticClass:"extract-close",on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[a("i",{staticClass:"el-icon-close"})])]),t._v(" "),a("div",{staticClass:"extract-main"},[t._t("panel",[a("div",{staticClass:"no-info"},[t._v("暂无数据...")])])],2)]):t._e()])},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(t){a("2dpe")},null,null);e.a=r.exports}});
//# sourceMappingURL=23.dfd8aed5c0e8c9c099d7.js.map