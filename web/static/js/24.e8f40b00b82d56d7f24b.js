webpackJsonp([24],{uOdN:function(e,r){},xJsL:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Xxa5"),n=t.n(a),s=t("exGp"),o=t.n(s),i=t("Dd8w"),u=t.n(i),l=t("NYxO"),p=t("gyMJ"),m={name:"app-login",data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名.",trigger:"blur"}],password:[{required:!0,message:"请输入密码.",trigger:"blur"},{min:4,max:8,message:"长度在 4 到 8 个字符",trigger:"blur"}]}}},computed:u()({},Object(l.d)("stateChange",["btnLoading"])),methods:u()({},Object(l.b)("app",["createLoginInfo"]),{doLogin:function(){var e=this;return o()(n.a.mark(function r(){var t;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""!=e.form.username&&""!=e.form.password){r.next=2;break}return r.abrupt("return",e.$message.warning("请正确填写用户名和密码！"));case 2:return r.next=4,Object(p.v)({username:e.form.username,password:e.form.password});case 4:1==(t=r.sent).code?(e.createLoginInfo({id:t.data.id,name:t.data.name,roles:t.data.roles||[],dept_id:t.data.dept_id}),e.$router.push({path:"/"})):e.$message.error(t.message);case 6:case"end":return r.stop()}},r,e)}))()}})},d={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-row",{staticClass:"login-wrapper"},[t("el-col",{attrs:{span:6,offset:9}},[t("h3",{staticClass:"welcome"},[e._v("欢迎使用")]),e._v(" "),t("el-form",{ref:"form",staticClass:"app-form",attrs:{"label-position":"top",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"请输入用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"用户名"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"请输入密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13,r.key,"Enter")?e.doLogin(r):null}},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.btnLoading},on:{click:function(r){return r.stopPropagation(),e.doLogin(r)}}},[e._v("登 录")])],1)],1)],1)],1)},staticRenderFns:[]};var c=t("VU/8")(m,d,!1,function(e){t("uOdN")},null,null);r.default=c.exports}});