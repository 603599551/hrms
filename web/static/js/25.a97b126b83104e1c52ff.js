webpackJsonp([25],{OnpG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),r=a.n(s),c=a("Dd8w"),l=a.n(c),d=a("gyMJ"),o=a("NYxO"),u=a("+xrz"),h={name:"app-time-guide",data:function(){return{list:[],tHeadData:{big:[],small:[]},fixedThead:[{key:-2,name:"",children:[{key:-2,name:"营业额"}]},{key:-1,name:"",children:[{key:-1,name:"顾客数"}]}]}},computed:l()({},Object(o.d)("dict",["planTheadList"]),Object(o.d)("stateChange",["btnLoading"])),watch:{planTheadList:function(t){this.initialTHeadHandle(this.planTheadList),this.initialListHandle()}},methods:l()({},Object(o.b)("dict",["createPlanTheadList"]),{initialTHeadHandle:function(t){var e=this;this.fixedThead.concat(t).forEach(function(t){e.tHeadData.big.push({name:t.name,key:t.key,col_num:t.children.length||1}),e.tHeadData.small=e.tHeadData.small.concat(t.children)}),this.tHeadData.small.sort(function(t,e){return t.key-e.key})},initialListHandle:function(){this.createRecord()},addRecordHandle:function(){this.createRecord()},checkInputHandle:function(t){var e=t.target.value.trim();/^\d|(\d-\d)$/.test(e)||""==e?t.target.classList.remove("danger"):t.target.classList.add("danger")},saveHandle:function(){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.l)(t.list);case 2:1==(a=e.sent).code?t.$message.success(a.message):t.$message.error(a.message);case 4:case"end":return e.stop()}},e,t)}))()},getTimeGuideList:function(){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.K)();case 2:1==(a=e.sent).code?t.list=a.data:t.$message.error(a.message);case 4:case"end":return e.stop()}},e,t)}))()},createRecord:function(){for(var t=[],e=0;e<this.tHeadData.small.length;e++)t.push({input:""});this.list.push(t)},getArrayTotal:function(t){return t.reduce(function(t,e){return Array.isArray(t)&&(t=t.length),t+e.length})}}),created:function(){this.getTimeGuideList(),this.planTheadList.length>0&&(this.initialTHeadHandle(this.planTheadList),this.initialListHandle())},mounted:function(){new u.a({tbodyWrapper:this.$refs.table.children[1],exceptCellIndexs:[],callback:function(t,e){}}).install()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"app-location-wrapper"},[a("el-breadcrumb",{staticClass:"fl",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/scheduling"}}},[t._v("排班管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("排班管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("可变工时")])],1),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"component-top"},[a("el-button",{staticClass:"fr",attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.saveHandle}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"fr",staticStyle:{"margin-right":"10px"},attrs:{size:"small",loading:t.btnLoading},on:{click:t.addRecordHandle}},[t._v("新增")])],1),t._v(" "),a("div",{staticClass:"component-main"},[a("table",{ref:"table",staticClass:"guide-list"},[a("thead",[a("tr",t._l(t.tHeadData.big,function(e,n){return a("th",{key:n,attrs:{colspan:e.col_num}},[t._v("\r\n                        "+t._s(e.name)+"\r\n                    ")])})),t._v(" "),a("tr",t._l(t.tHeadData.small,function(e,n){return a("th",{key:n,attrs:{width:"5%"}},[t._v("\r\n                        "+t._s(e.name)+"\r\n                    ")])}))]),t._v(" "),a("tbody",t._l(t.list,function(e,n){return a("tr",{key:n},t._l(e,function(e,i){return a("td",{key:i,attrs:{"data-index":n+","+i}},[a("el-input",{attrs:{size:"mini"},on:{blur:t.checkInputHandle},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"item2.input"}})],1)}))}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-prompt fr"},[e("i",{staticClass:"el-icon-info"}),this._v("注意：输入数据的格式为单个数字（1）或区间（1-3）")])}]};var p=a("VU/8")(h,m,!1,function(t){a("zg9s")},null,null);e.default=p.exports},zg9s:function(t,e){}});